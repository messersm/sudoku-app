<CustomScreen>:
    name: "custom"
    id: customscreen
    grid: grid
    code_input: code_input

    BoxLayout:
        orientation: "vertical"

        # Menu row
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: "50sp"

            Label:
                size_hint: (0.7, 1)
                halign: 'left' # is ignored
                text: "Sudoku"

            # Check
            Button:
                size_hint_x: 0.1
                text: "Done"
                halign: "center"
                on_press: customscreen.check_grid()

            # Settings button
            Button:
                size_hint_x: 0.1
                text: "Settings"
                halign: "center"
                on_press: app.open_settings()

            Button:
                size_hint_x: 0.1
                text: "Game"
                halign: "center"
                on_press: app.screens.current = "game"

        # horizontal container inside the vertical container
        BoxLayout:
            id: grid_container
            orientation: "horizontal"
            size_hint_y: 1

            # Padding (left)
            Padding

            SudokuGrid:
                id: grid
                pos: grid_container.pos
                size_hint: (None, None)
                width: min(grid_container.size)
                height: min(grid_container.size)

            # Padding (right)
            Padding

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.1

            TextInput:
                id: code_input
                hint_text: "Enter Sudoku code here"
                size_hint_x: 0.9
            Button:
                text: "apply"
                on_release: customscreen.update_from_code_input()
                size_hint_x: 0.1

        NumberInput:
            size_hint_y: None
            height: "50sp"
            handler: customscreen
