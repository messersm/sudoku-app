<NumberField>:
    canvas.before:
        Color:
            rgba: self.bgcolor
        Rectangle:
            size: self.width, self.height
            pos: self.pos
    canvas:
        Color:
            rgba: 0.5, 0.5, 0.5, 1
        Line:
            width: 1
            rectangle: (self.x, self.y, self.width, self.height)

    halign: "center"
    valign: "center"
    color: 0, 0, 0, 1
    font_size: "27sp"

<SudokuGrid>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.width, self.height
            pos: self.pos

    canvas.after:
        Color:
            rgba: 0, 0, 0, 1
        Line:
            width: 1.5
            rectangle: (self.x, self.y, self.width, self.height)
        Line:
            width: 1.5
            rectangle: (self.x, self.y + self.height / 3, self.width, self.height / 3)
        Line:
            width: 1.5
            rectangle: (self.x + self.width / 3, self.y, self.width / 3, self.height)

<SudokuWidget>:
    orientation: "vertical"

    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 0.1)

        Label:
            size_hint: (0.8, 1)
            halign: 'left' # is ignored
            text: "Sudoku"
        #Button:
        #    size_hint: (0.2, 1)
        #    text: "Menu"

    BoxLayout:
        orientation: "horizontal"


        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        SudokuGrid:
            id: grid
            size_hint: (None, 1)
            width: self.height
        Widget:
            canvas:
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

#    Slider:
#        min: -1
#        max: 0
#        value: 0
#        step: 1
#
#        value_track: True
#        # value_track_color: 1, 0, 0, 1
#
#        size_hint_y: 0.2

    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 0.1)

        Button:
            text: "1"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "2"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "3"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "4"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "5"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "6"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "7"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "8"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: "9"
            on_press: grid.enter_number(int(self.text))
        Button:
            text: " "
            on_press: grid.enter_number(None)
        Button:
            font_size: "9sp"
            text: "* 2 3\n4 5 6\n7 8 9"
            on_press: grid.auto_candidates()

    BoxLayout:
        size_hint: (1, 0.1)
        orientation: "horizontal"

        Button:
            text: "solve"
            on_press: grid.solve()

    Label:
        size_hint: (1, 0.05)
        text: "hint: bla bla bla"